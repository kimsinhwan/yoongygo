<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Mapbox 위치 표시</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>
    <div id='map'></div>
    <script>
        mapboxgl.accessToken = 'pk.eyJ1IjoieW9vbmd5OTEiLCJhIjoiY21jMDczMzV1MXg0YTJqbjFiazMzdWI0ciJ9.1553HcxLbM-BN_v6t5d3zg';
        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/mapbox/streets-v11',
            center: [127.024612, 37.532600], // 초기 위치
            zoom: 14
        });

        let marker = new mapboxgl.Marker()
            .setLngLat([127.024612, 37.532600])
            .addTo(map);

        // 서버에서 위치 데이터를 받아오는 부분 (예: WebSocket 또는 AJAX)
        // 여기서는 예시로 WebSocket 사용
        const socket = new WebSocket('wss://your-server.com/socket');

        socket.onmessage = function(event) {
            const data = JSON.parse(event.data);
            const newLngLat = [data.longitude, data.latitude];
            marker.setLngLat(newLngLat);
            map.flyTo({ center: newLngLat });
        };
    </script>
</body>
</html>